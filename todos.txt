
DELETE VE UPDATE KURALLARI ************************************************ Test yazılabilir

CATEGORIES -------
    delete: 
        1) kategoriye bağlı ürün var mı? 
            + evet: Silinebilir, bağlı ürünlerin category_id alanları null'a çevrilir ✓
            - hayır: Silinebilir ✓
            not: bağlı ürünler kategoriye OPTIONAL olarak ulaşacak ✓
            sorun: formda kategori adı unique olmasına rağmen, veritabanı unique hatası veriyor ×
    update:
        Her şekilde update edilebilir. ✓



PRODUCTS -------
    delete:
        1) Ürüne bağlı reçeteyi sil ✓ 
        2) Ürüne bağlı birimleri sil ✓
        3) Ürüne bağlı iş emirleri(workorders) varsa ürün silinemez! ✓
        4) Ürüne bağlı sevk emirleri(dispatchProduct) varsa ürün silinemez! ✓
        5) Ürüne bağlı stok hareketleri(stockmoves) varsa ürün silinemez! Aynı zamanda stokta varsa da geçerli ✓ 
    update:
        1) 

    




RECIPES -------
    delete:
        1) product_recipe tablosundan içerikleri(ingredient) kaldır ✓
        2) Bağlı olduğu ürüne ait aktif iş emri/emirleri var mı?
            var:
                Ürüne bağlı tüm iş emirleri onaylandı ise silinebilir ✓
            yok:
                Silinebilir ✓
    update:
        1) workorder statuslara göre ayarlanacak !!


UNITS -------
    delete:
        1) Ürüne ait temel birim ise silinemez ✓
        2) Çocuğu varsa silinemez ✓
        3) Bir reçetede kullanıldıysa silinemez ✓
        4) Bir iş emrinde kullanıldıysa silinemez ✓
    update:
        1) Kendi çocuğunun çocuğu olamaz, torununun torunu olamaz ?????


WORKORDERS -------
    delete:
        1) İş emri suspended veya active konumunda değilse silinemez ✓
        2) İş emrine bağlı stok hareketleri varsa:
            a) Üretimden çıkan ürün başka bir yerde kullanılmadıysa tüm stok hakeretleri(StockMoves) ile birlikte sil ✓
            b) Başka yerde(sevk, içerik, manuel) kullanıldıysa silinemez ✓
        3) Bu iş emrinden çıkan lotu başka bir iş emri rezerve ettiyse silinemez !!!!
        4) Rezerve edilen stoklar approve olduğunda siliniyor ✓
    update:
        1) İş emri suspended veya active konumunda değilse güncellenemez ✓

    problemler:
        Livewire component başka bir componentte çağrıldığında ilk seferde sorunsuz çalışıyor.
        Modal kapatılıp açıldığında ve ürün seçildiğinde units dropdown'ını dolduramıyor. Wire of undefined hatası alıyorum ×



STOCKMOVES -------
    delete: 
        Kendi silinemez ✓
    update:
        Kendi güncellenemez ✓



RESERVEDSTOCKS -------
    delete: 
        İş ve sevk emri aracılığı ile silinebilir ✓
    update:
        İş ve sevk emri aracılığı ile güncellenebilir ✓




COMPANIES -------
    delete:
        Firmaya bağlı sevk emirleri(dispatchOrders) varsa silinemez ✓
        Bağlı tüm adresleri sil ✓
    update:


ADDRESSES -------
    delete:
        Sorunsuzca silinebilir ✓
    update: 
        Sorunsuzca güncellenebilir ✓


DISPATCHORDERS -------



DISPATCHEXTRAS -------



DISPATCHPRODUCTS -------



SALESTYPES -------



SETTINGS -------



