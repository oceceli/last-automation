<?php 

namespace App\Models\Traits\DispatchOrder;

trait DispatchOrderRules
{
    // !! eksik
    

    public function isNotEditable() : bool
    {
        return $this->isApproved() || $this->isCompleted() || $this->isInProgress();
    }


    public function isEditable() : bool
    {
        return ! $this->isnotEditable();
    }


    public function isDeletable() : bool
    {
        return ! $this->isnotEditable();
    }

    
    /**
     * @override
     */
    public static function boot()
    {
        parent::boot();

        static::updating(function ($model) {
            return true;
        });

        static::deleting(function ($model) {
            return $model->isDeletable();
        });
    }
}